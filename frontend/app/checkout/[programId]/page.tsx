'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport PaymentModal from '@/components/PaymentModal';\nimport { demoPrograms } from '@/lib/config';\n\nexport default function CheckoutPage() {\n  const params = useParams();\n  const router = useRouter();\n  const [program, setProgram] = useState<any>(null);\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const programId = params.programId as string;\n    const foundProgram = demoPrograms.find(p => p.id === programId);\n    \n    if (foundProgram) {\n      setProgram({\n        id: foundProgram.id,\n        title: foundProgram.title,\n        price: foundProgram.price\n      });\n    }\n    \n    setLoading(false);\n  }, [params.programId]);\n\n  const handlePaymentSuccess = () => {\n    setShowPaymentModal(false);\n    alert('üéâ Inscription confirm√©e! Bienvenue dans le programme CBTC.');\n    router.push('/dashboard');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!program) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">‚ùå</div>\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Programme introuvable</h1>\n          <p className=\"text-gray-600 mb-6\">Le programme demand√© n'existe pas.</p>\n          <button\n            onClick={() => router.push('/courses')}\n            className=\"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700\"\n          >\n            Retour aux formations\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-3xl mx-auto px-4\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">üí≥ Finaliser l'inscription</h1>\n          <p className=\"text-gray-600\">Choisissez votre m√©thode de paiement pr√©f√©r√©e</p>\n        </div>\n\n        {/* Program Summary */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          <div className=\"border-b border-gray-200 pb-6 mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{program.title}</h2>\n            <p className=\"text-gray-600\">Formation d'excellence CBTC</p>\n          </div>\n          \n          <div className=\"flex justify-between items-center\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Prix de la formation</p>\n              <p className=\"text-3xl font-bold text-indigo-600\">{program.price.toLocaleString()} XOF</p>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-sm text-gray-600\">Inclus</p>\n              <ul className=\"text-sm text-gray-700 space-y-1\">\n                <li>‚úÖ Acc√®s √† vie</li>\n                <li>‚úÖ Certificat CBTC</li>\n                <li>‚úÖ Support WhatsApp</li>\n                <li>‚úÖ Analyse IA</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/* Payment Methods */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h3 className=\"text-xl font-bold text-gray-900 mb-6\">M√©thodes de paiement disponibles</h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-6\">\n            {/* Wave Payment */}\n            <div className=\"border border-gray-200 rounded-lg p-6 hover:border-indigo-300 transition-colors\">\n              <div className=\"flex items-center mb-4\">\n                <div className=\"text-3xl mr-3\">üì±</div>\n                <div>\n                  <h4 className=\"font-semibold text-gray-900\">Wave Money</h4>\n                  <p className=\"text-sm text-gray-600\">Paiement mobile instantan√©</p>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2 text-sm text-gray-600 mb-4\">\n                <div>üìû Num√©ro CBTC: <strong>+2250555007884</strong></div>\n                <div>‚ö° Confirmation automatique</div>\n                <div>üîí S√©curis√© et rapide</div>\n              </div>\n              \n              <button\n                onClick={() => setShowPaymentModal(true)}\n                className=\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Payer avec Wave\n              </button>\n            </div>\n\n            {/* POS Cash Payment */}\n            <div className=\"border border-gray-200 rounded-lg p-6 hover:border-green-300 transition-colors\">\n              <div className=\"flex items-center mb-4\">\n                <div className=\"text-3xl mr-3\">üíµ</div>\n                <div>\n                  <h4 className=\"font-semibold text-gray-900\">Paiement Comptoir</h4>\n                  <p className=\"text-sm text-gray-600\">Cash avec re√ßu corporate</p>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2 text-sm text-gray-600 mb-4\">\n                <div>üè™ Terminaux CBTC disponibles</div>\n                <div>üìÑ Re√ßu officiel avec logo</div>\n                <div>üíº Gestion comptable int√©gr√©e</div>\n              </div>\n              \n              <button\n                onClick={() => setShowPaymentModal(true)}\n                className=\"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors\"\n              >\n                Payer au Comptoir\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Security Notice */}\n        <div className=\"mt-8 bg-indigo-50 border border-indigo-200 rounded-lg p-6\">\n          <div className=\"flex items-start\">\n            <div className=\"text-2xl mr-3\">üîí</div>\n            <div>\n              <h4 className=\"font-semibold text-indigo-900 mb-2\">Paiement S√©curis√© CBTC</h4>\n              <p className=\"text-sm text-indigo-700\">\n                Tous vos paiements sont s√©curis√©s et trac√©s. Vous recevrez un re√ßu officiel \n                et votre acc√®s sera activ√© imm√©diatement apr√®s confirmation.\n              </p>\n              <p className=\"text-sm text-indigo-600 mt-2\">\n                üìû Support: +2250555007884 | ‚úâÔ∏è abel@cobelbtc.com\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Back Button */}\n        <div className=\"mt-8 text-center\">\n          <button\n            onClick={() => router.back()}\n            className=\"text-indigo-600 hover:text-indigo-700 font-medium\"\n          >\n            ‚Üê Retour √† la formation\n          </button>\n        </div>\n      </div>\n\n      {/* Payment Modal */}\n      {showPaymentModal && (\n        <PaymentModal\n          isOpen={showPaymentModal}\n          onClose={() => setShowPaymentModal(false)}\n          program={program}\n          onPaymentSuccess={handlePaymentSuccess}\n        />\n      )}\n    </div>\n  );\n}"
